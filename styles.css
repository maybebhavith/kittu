/* ========================================
   Enhanced Custom Styles for Tailwind
   ======================================== */

/* Smooth Scrolling */
html {
    scroll-behavior: smooth;
    scroll-snap-type: y proximity;
}

/* Hide Scrollbar but keep functionality */
body::-webkit-scrollbar {
    width: 8px;
}

body::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.2);
}

body::-webkit-scrollbar-thumb {
    background: linear-gradient(to bottom, #f43f5e, #8b5cf6);
    border-radius: 4px;
}

/* ========================================
   Floating Hearts Animation
   ======================================== */
.floating-heart {
    position: absolute;
    animation: floatUpHeart 10s ease-in-out infinite;
    filter: drop-shadow(0 0 15px rgba(244, 63, 94, 0.5));
    will-change: transform, opacity;
}

@keyframes floatUpHeart {
    0% {
        transform: translateY(100vh) rotate(0deg) scale(0.5);
        opacity: 0;
    }

    5% {
        opacity: 0.8;
    }

    95% {
        opacity: 0.8;
    }

    100% {
        transform: translateY(-150px) rotate(720deg) scale(1.2);
        opacity: 0;
    }
}

/* ========================================
   Particle System Enhancements
   ======================================== */
.particle {
    position: absolute;
    border-radius: 50%;
    pointer-events: none;
    will-change: transform, opacity;
}

.particle-gold {
    background: radial-gradient(circle, #ffd700, transparent);
    box-shadow: 0 0 20px #ffd700, 0 0 40px #ffd700;
}

.particle-rose {
    background: radial-gradient(circle, #f43f5e, transparent);
    box-shadow: 0 0 20px #f43f5e, 0 0 40px #f43f5e;
}

.particle-violet {
    background: radial-gradient(circle, #8b5cf6, transparent);
    box-shadow: 0 0 20px #8b5cf6, 0 0 40px #8b5cf6;
}

/* ========================================
   Confetti Styles
   ======================================== */
.confetti {
    position: absolute;
    animation: confettiFall var(--duration, 3s) cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
    will-change: transform, opacity;
}

@keyframes confettiFall {
    0% {
        transform: translateY(-50px) rotate(0deg) scale(1);
        opacity: 1;
    }

    100% {
        transform: translateY(100vh) rotate(var(--rotation, 720deg)) scale(0.5);
        opacity: 0;
    }
}

.confetti-square {
    border-radius: 2px;
}

.confetti-circle {
    border-radius: 50%;
}

.confetti-heart::before {
    content: '❤️';
    font-size: inherit;
}

/* ========================================
   Postbox 3D Styles
   ======================================== */
.perspective-1000 {
    perspective: 1000px;
}

.transform-style-3d {
    transform-style: preserve-3d;
}

/* Postbox Lid Animation */
#postbox.opened #postboxLid {
    transform: rotateX(-150deg);
}

#postbox.opened #letterEnvelope {
    opacity: 1;
    transform: translateX(-50%) translateY(-140px);
    animation: letterFloatUp 2s ease-in-out infinite 1s;
}

@keyframes letterFloatUp {

    0%,
    100% {
        transform: translateX(-50%) translateY(-140px) rotate(-3deg);
    }

    50% {
        transform: translateX(-50%) translateY(-155px) rotate(3deg);
    }
}

/* ========================================
   Glass Morphism Effects
   ======================================== */
.glass {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.glass-dark {
    background: rgba(0, 0, 0, 0.2);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

/* ========================================
   Text Effects
   ======================================== */
.text-shadow-glow {
    text-shadow:
        0 0 20px rgba(244, 63, 94, 0.5),
        0 0 40px rgba(244, 63, 94, 0.3),
        0 0 60px rgba(244, 63, 94, 0.2);
}

.text-gradient-animate {
    background-size: 200% auto;
    animation: gradientFlow 3s linear infinite;
}

@keyframes gradientFlow {
    0% {
        background-position: 0% center;
    }

    100% {
        background-position: 200% center;
    }
}

/* ========================================
   Button Hover Effects
   ======================================== */
.btn-magical {
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
}

.btn-magical::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg,
            transparent,
            rgba(255, 255, 255, 0.3),
            transparent);
    transition: left 0.5s ease;
}

.btn-magical:hover::before {
    left: 100%;
}

.btn-magical:hover {
    transform: translateY(-4px) scale(1.02);
    box-shadow: 0 20px 40px -10px rgba(244, 63, 94, 0.5);
}

/* ========================================
   Ripple Effect
   ======================================== */
.ripple {
    position: absolute;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.4);
    transform: scale(0);
    animation: rippleEffect 0.6s linear;
    pointer-events: none;
}

@keyframes rippleEffect {
    to {
        transform: scale(4);
        opacity: 0;
    }
}

/* ========================================
   Sparkle System
   ======================================== */
.sparkle {
    position: absolute;
    width: 8px;
    height: 8px;
    background: #ffd700;
    border-radius: 50%;
    animation: sparkleAnimation 1.5s ease-in-out infinite;
    box-shadow:
        0 0 10px #ffd700,
        0 0 20px #ffd700,
        0 0 30px #ffd700;
}

@keyframes sparkleAnimation {

    0%,
    100% {
        transform: scale(0) rotate(0deg);
        opacity: 0;
    }

    50% {
        transform: scale(1) rotate(180deg);
        opacity: 1;
    }
}

/* Star Sparkle Variant */
.sparkle-star {
    width: 0;
    height: 0;
    background: none;
    border: none;
    position: absolute;
}

.sparkle-star::before,
.sparkle-star::after {
    content: '✨';
    position: absolute;
    animation: twinkle 2s ease-in-out infinite;
}

@keyframes twinkle {

    0%,
    100% {
        opacity: 0.3;
        transform: scale(0.8);
    }

    50% {
        opacity: 1;
        transform: scale(1.2);
    }
}

/* ========================================
   Section Transitions
   ======================================== */
.section-hidden {
    opacity: 0;
    transform: translateY(50px);
    transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
}

.section-visible {
    opacity: 1;
    transform: translateY(0);
}

/* ========================================
   Letter Paper Effects
   ======================================== */
.letter-texture {
    background-image:
        repeating-linear-gradient(0deg,
            transparent,
            transparent 27px,
            rgba(0, 0, 0, 0.03) 28px);
}

/* ========================================
   Aurora Background Effect
   ======================================== */
.aurora {
    position: fixed;
    inset: 0;
    background:
        radial-gradient(ellipse 80% 50% at 20% 40%, rgba(244, 63, 94, 0.15), transparent),
        radial-gradient(ellipse 60% 40% at 80% 60%, rgba(139, 92, 246, 0.15), transparent),
        radial-gradient(ellipse 50% 30% at 50% 90%, rgba(236, 72, 153, 0.1), transparent);
    animation: auroraShift 20s ease-in-out infinite;
    pointer-events: none;
}

@keyframes auroraShift {

    0%,
    100% {
        filter: hue-rotate(0deg);
    }

    50% {
        filter: hue-rotate(30deg);
    }
}

/* ========================================
   Responsive Adjustments
   ======================================== */
@media (max-width: 640px) {
    .floating-heart {
        font-size: 1rem;
    }

    #postbox {
        transform: scale(0.85);
    }
}

/* ========================================
   Reduced Motion
   ======================================== */
@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* ========================================
   Selection Styling
   ======================================== */
::selection {
    background: rgba(244, 63, 94, 0.4);
    color: white;
}

::-moz-selection {
    background: rgba(244, 63, 94, 0.4);
    color: white;
}